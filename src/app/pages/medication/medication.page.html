<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Medication</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <h1>Ingrese sus medicamentos</h1>

  <ng-container *ngFor="let medicationForm of medicationForms; let i = index">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Nuevo Medicamento</ion-card-title>
        <ion-card-subtitle>Ingrese los detalles del medicamento</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <form [formGroup]="medicationForm" (ngSubmit)="onSave(i)">
          <ion-grid>
            <ion-row>
              <ion-col size="4">
                <ion-label position="stacked">Nombre del Medicamento</ion-label>
              </ion-col>
              <ion-col size="8">
                <ion-input id="medicationName{{i}}" formControlName="medicationName"></ion-input>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="4">
                <ion-label position="stacked">Cantidad Pastillas</ion-label>
              </ion-col>
              <ion-col size="8">
                <ion-input id="quantity{{i}}" type="number" formControlName="quantity"></ion-input>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="4">
                <ion-label position="stacked">Horario</ion-label>
              </ion-col>
              <ion-col size="8">
                <ion-datetime id="time{{i}}" display-format="h:mm A" presentation="time" formControlName="time" class="custom-datetime"></ion-datetime>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="4">
                <ion-label position="stacked">Días de la semana</ion-label>
              </ion-col>
              <ion-col size="8">
                <ion-select id="days{{i}}" multiple="true" formControlName="days">
                  <ion-select-option>Lunes</ion-select-option>
                  <ion-select-option>Martes</ion-select-option>
                  <ion-select-option>Miércoles</ion-select-option>
                  <ion-select-option>Jueves</ion-select-option>
                  <ion-select-option>Viernes</ion-select-option>
                  <ion-select-option>Sábado</ion-select-option>
                  <ion-select-option>Domingo</ion-select-option>
                </ion-select>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
      </ion-card-content>
    </ion-card>
  </ng-container>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="addNewForm()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-button expand="block" (click)="saveAll()">Guardar Todo</ion-button>
</ion-content>





